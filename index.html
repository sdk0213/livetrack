<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RunCheer - í¬ë£¨ ì‘ì› ğŸƒâ€â™‚ï¸ğŸ’¨</title>
  <link rel="icon" href="/RunCheer.png" type="image/png" />
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js" integrity="sha384-DKYJZ8NLiK8MN4/C5P2dtSmLQ4KwPaoqAfyA/DfmEc1VDxu4yyC7wy6K1Hs90nka" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=04ebpnqto6"></script>
  <style>
    :root{
      --bg:#f5f7fa;
      --card:#ffffff;
      --muted:#64748b;
      --fg:#1e293b;
      --acc:#3b82f6;
      --ok:#22c55e;
      --err:#ef4444;
      --warn:#f59e0b;
      --finished:#dbeafe;
      --kakao:#FEE500;
    }
    
    * { box-sizing: border-box; }
    
    html,body{
      margin:0;
      height:100%;
      background:var(--bg);
      color:var(--fg);
      font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,Helvetica,Arial,sans-serif;
      scroll-behavior:smooth;
    }
    
    .wrap{max-width:1100px;margin:22px auto;padding:0 16px;padding-bottom:80px}
    
    h1{margin:0 0 6px;font-size:20px}
    h2{margin:0 0 12px;font-size:18px;font-weight:700}
    h3{margin:0 0 10px;font-size:16px;font-weight:700}
    
    .muted{color:var(--muted)}
    
    .card{
      background:var(--card);
      border-radius:14px;
      box-shadow:0 2px 8px rgba(0,0,0,.1);
      padding:14px;
      margin:12px 0;
    }
    
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .col{flex:1 1 240px}
    
    input,textarea,select,button{
      width:100%;
      box-sizing:border-box;
      background:#f8fafc;
      border:1px solid #cbd5e1;
      color:var(--fg);
      border-radius:10px;
      padding:10px;
      font-size:14px;
    }
    
    button{
      cursor:pointer;
      background:linear-gradient(180deg,#3b82f6,#2563eb);
      border:none;
      color:#fff;
      font-weight:600;
      transition:opacity 0.2s;
    }
    
    button:hover:not(:disabled){opacity:0.9}
    button:disabled{opacity:.5;cursor:not-allowed}
    
    button.secondary{background:#f8fafc;border:1px solid #cbd5e1;color:var(--fg)}
    button.success{background:linear-gradient(180deg,#22c55e,#16a34a)}
    button.danger{background:linear-gradient(180deg,#ef4444,#dc2626)}
    button.kakao{background:var(--kakao);color:#000;font-weight:700}
    
    .btn-small{padding:6px 12px;font-size:12px;width:auto}
    
    /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
    .tab-nav{
      position:fixed;
      bottom:0;
      left:0;
      right:0;
      background:#fff;
      border-top:1px solid #e2e8f0;
      display:flex;
      z-index:100;
      box-shadow:0 -2px 10px rgba(0,0,0,.1);
    }
    
    .tab-btn{
      flex:1;
      padding:12px;
      background:transparent;
      border:none;
      border-radius:0;
      color:var(--muted);
      font-size:12px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:4px;
    }
    
    .tab-btn.active{color:var(--acc);font-weight:700}
    .tab-btn .icon{font-size:20px}
    
    /* í˜ì´ì§€ */
    .page{display:none}
    .page.active{display:block}
    
    /* ë¡œê·¸ì¸ í™”ë©´ */
    .login-container{
      min-height:80vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
    }
    
    .login-logo{
      width:120px;
      height:120px;
      margin-bottom:16px;
      border-radius:24px;
      overflow:hidden;
      box-shadow:0 4px 12px rgba(0,0,0,.15);
    }
    .login-logo img{
      width:100%;
      height:100%;
      object-fit:cover;
    }
    .login-title{font-size:24px;font-weight:700;margin-bottom:8px}
    .login-subtitle{color:var(--muted);margin-bottom:32px}
    
    /* ê·¸ë£¹ ì¹´ë“œ */
    .group-card{
      background:#f8fafc;
      border:1px solid #e2e8f0;
      border-radius:10px;
      padding:12px;
      margin:8px 0;
    }
    
    .group-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .group-name{font-weight:700;font-size:16px}
    .group-code{font-size:12px;color:var(--muted);font-family:monospace}
    
    /* ì£¼ì ë¦¬ìŠ¤íŠ¸ */
    .runner-list{display:flex;flex-direction:column;gap:10px}
    
    .runner-card{
      display:flex;
      gap:12px;
      align-items:center;
      background:#f8fafc;
      border:1px solid #e2e8f0;
      border-radius:10px;
      padding:10px;
    }
    
    .runner-photo{
      width:60px;
      height:60px;
      border-radius:8px;
      object-fit:cover;
      background:#e2e8f0;
      cursor:pointer;
      transition:all 0.2s;
      box-shadow:0 2px 4px rgba(0,0,0,0.1);
    }
    
    .runner-photo:hover{
      opacity:0.8;
      transform:scale(1.05);
    }
    
    .runner-info{flex:1}
    .runner-name{font-weight:700;margin-bottom:4px}
    .runner-bib{font-size:12px;color:var(--muted)}
    
    /* ëª¨ë‹¬ */
    .modal{
      display:none;
      position:fixed;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:rgba(0,0,0,0.5);
      z-index:200;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    
    .modal.active{display:flex}
    
    .modal-content{
      background:#fff;
      border-radius:14px;
      padding:20px;
      max-width:500px;
      width:100%;
      max-height:80vh;
      overflow-y:auto;
    }
    
    .modal-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:16px;
    }
    
    .modal-close{
      background:transparent;
      border:none;
      font-size:24px;
      cursor:pointer;
      padding:0;
      width:auto;
      color:var(--muted);
    }
    
    /* ë¼ë””ì˜¤ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    input[type="radio"]{
      width:auto;
      margin:0;
      cursor:pointer;
      flex-shrink:0;
    }
    
    .role-option{
      flex:1;
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px;
      background:#f8fafc;
      border:2px solid #cbd5e1;
      border-radius:10px;
      cursor:pointer;
      transition:all 0.2s;
    }
    
    .role-option:hover{
      border-color:#94a3b8;
    }
    
    .role-option.selected{
      border-color:#3b82f6;
      background:#eff6ff;
    }
    
    .role-content{
      flex:1;
    }
    
    .role-title{
      font-weight:700;
      font-size:14px;
      margin-bottom:2px;
    }
    
    .role-desc{
      font-size:11px;
      color:var(--muted);
    }
    
    /* ì§€ë„ */
    #map{width:100%;height:400px;border-radius:10px;background:#e2e8f0}
    
    /* ìƒˆë¡œê³ ì¹¨ ì¸ë””ì¼€ì´í„° */
    .refresh-indicator{
      position:fixed;
      bottom:80px;
      right:20px;
      background:rgba(66,133,244,0.95);
      color:#fff;
      padding:8px 14px;
      border-radius:20px;
      box-shadow:0 2px 8px rgba(0,0,0,0.2);
      font-size:11px;
      font-weight:600;
      display:none;
      align-items:center;
      gap:8px;
      z-index:1000;
    }
    .refresh-indicator.active{
      display:flex;
    }
    .refresh-progress{
      width:28px;
      height:28px;
      position:relative;
    }
    .refresh-progress svg{
      transform:rotate(-90deg);
    }
    .refresh-progress-circle{
      fill:none;
      stroke:rgba(255,255,255,0.3);
      stroke-width:3;
    }
    .refresh-progress-bar{
      fill:none;
      stroke:#fff;
      stroke-width:3;
      stroke-linecap:round;
      transition:stroke-dashoffset 1s linear;
    }
    
    /* ì§€ë„ ë§ˆì»¤ ë ˆì´ë¸” */
    .player-label{
      background:rgba(59,130,246,0.95);
      color:#fff;
      padding:6px 12px;
      border-radius:20px;
      font-weight:700;
      font-size:13px;
      white-space:nowrap;
      box-shadow:0 2px 8px rgba(0,0,0,0.3);
      border:2px solid #fff;
      cursor:pointer;
      transition:all 0.2s;
    }
    .player-label:hover{
      background:rgba(37,99,235,1);
      transform:scale(1.05);
    }
    
    /* í…Œì´ë¸” */
    table{width:100%;border-collapse:separate;border-spacing:0 8px;font-size:12px;table-layout:fixed}
    th,td{text-align:left;padding:10px 12px;vertical-align:top;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    th{font-size:11px;line-height:1.3;white-space:normal;color:var(--muted);font-weight:600}
    tbody tr{background:#f8fafc}
    tbody tr.finished{background:var(--finished)!important}
    tbody tr.player-main td:first-child{border-radius:10px 0 0 0;white-space:normal}
    tbody tr.player-main td:last-child{border-radius:0 10px 0 0}
    tbody tr.player-splits td{border-top:1px solid #e2e8f0;border-radius:0 0 10px 10px;padding-top:8px;white-space:normal}
    
    /* Splits ì •ë³´ */
    .splits{
      display:flex;
      flex-direction:column;
      gap:3px;
      font-size:12px;
      color:var(--muted);
      padding:5px 0;
    }
    
    /* ìƒíƒœ ë°°ì§€ */
    .pill{
      display:inline-block;
      padding:3px 10px;
      border-radius:12px;
      font-size:11px;
      font-weight:600;
    }
    .pill.run{background:rgba(59,130,246,.12);color:var(--acc)}
    .pill.fin{background:rgba(100,116,139,.12);color:var(--muted)}
    
    /* ì´ë¯¸ì§€ ì—…ë¡œë“œ */
    .image-upload-area{
      border:2px dashed #cbd5e1;
      border-radius:10px;
      padding:20px;
      text-align:center;
      cursor:pointer;
      transition:all 0.2s;
    }
    
    .image-upload-area:hover{border-color:var(--acc);background:#f8fafc}
    .image-upload-area.has-image{border-style:solid;border-color:var(--ok)}
    
    .image-preview{
      max-width:200px;
      max-height:200px;
      border-radius:8px;
      margin:10px auto;
    }
    
    .loading{
      display:inline-block;
      width:14px;
      height:14px;
      border:2px solid #cbd5e1;
      border-top-color:var(--acc);
      border-radius:50%;
      animation:spin 0.6s linear infinite;
      vertical-align:middle;
      margin-left:8px;
    }
    
    @keyframes spin{to{transform:rotate(360deg)}}
    
    /* ê°œë°œì ì •ë³´ */
    .dev-info{
      position:fixed;
      top:10px;
      right:16px;
      text-align:right;
      font-size:10px;
      z-index:1000;
      background:rgba(255,255,255,0.85);
      padding:4px 8px;
      border-radius:6px;
      border:1px solid #e2e8f0;
      box-shadow:0 1px 2px rgba(0,0,0,.08);
    }
    .dev-info .dev{color:var(--muted)}
    
    /* ì´ë¯¸ì§€ ë·°ì–´ ëª¨ë‹¬ */
    .image-viewer-modal{
      display:none;
      position:fixed;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:rgba(0,0,0,0.9);
      z-index:9999;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }
    
    .image-viewer-modal.active{
      display:flex;
    }
    
    .image-viewer-modal img{
      max-width:80%;
      max-height:80%;
      border-radius:12px;
      box-shadow:0 8px 32px rgba(0,0,0,0.5);
    }
    
    .hidden{display:none!important}
    
    .text-center{text-align:center}
    .mt-2{margin-top:16px}
    .mb-2{margin-bottom:16px}
  </style>
</head>
<body>
  <!-- ê°œë°œì ì •ë³´ -->
  <div class="dev-info">
    <div class="dev">ê°œë°œì: ì„±ëŒ€ê²½</div>
  </div>

  <!-- ì´ë¯¸ì§€ ë·°ì–´ ëª¨ë‹¬ -->
  <div id="imageViewerModal" class="image-viewer-modal">
    <img id="imageViewerImg" src="" alt="ì£¼ì ì‚¬ì§„" />
  </div>

  <!-- ìƒˆë¡œê³ ì¹¨ ì¸ë””ì¼€ì´í„° -->
  <div id="refreshIndicator" class="refresh-indicator">
    <div class="refresh-progress">
      <svg width="28" height="28">
        <circle class="refresh-progress-circle" cx="14" cy="14" r="11"></circle>
        <circle id="progressBar" class="refresh-progress-bar" cx="14" cy="14" r="11"></circle>
      </svg>
    </div>
    <div>
      <div style="font-size:9px;opacity:0.9">ìƒˆë¡œê³ ì¹¨</div>
      <div id="countdown" style="font-size:12px;font-weight:700">60ì´ˆ</div>
    </div>
  </div>

  <div id="app">
    <!-- ë¡œê·¸ì¸ ì „ í™”ë©´ -->
    <div id="loginPage" class="page active">
      <div class="wrap">
        <div class="login-container">
          <div class="login-logo">
            <img src="/RunCheer.png" alt="RunCheer Logo">
          </div>
          <h1 class="login-title">RunCheer</h1>
          <p class="login-subtitle">í•¨ê»˜ ì‘ì›í•˜ëŠ” ë§ˆë¼í†¤ í¬ë£¨</p>
          <button id="kakaoLoginBtn" class="kakao" style="max-width:300px">
            <span style="font-size:18px">ğŸ’¬</span> ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì‹œì‘í•˜ê¸°
          </button>
        </div>
      </div>
    </div>

    <!-- ë¡œê·¸ì¸ ì¤‘ ë¡œë”© í™”ë©´ -->
    <div id="loadingPage" class="page">
      <div class="wrap">
        <div class="login-container">
          <div class="login-logo">
            <img src="/RunCheer.png" alt="RunCheer Logo">
          </div>
          <h1 class="login-title">ë¡œê·¸ì¸ ì¤‘...</h1>
          <p class="login-subtitle">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</p>
          <div style="text-align:center;margin-top:20px">
            <div style="display:inline-block;width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3b82f6;border-radius:50%;animation:spin 1s linear infinite"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- ë©”ì¸ ì•± (ë¡œê·¸ì¸ í›„) -->
    <div id="mainApp" class="page">
      <!-- ì‘ì› íƒ­ -->
      <div id="cheerPage" class="page active">
        <div class="wrap">
                    <!-- í—¤ë” -->
          <div class="card" style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <h1 style="margin:0 0 4px 0;">RunCheer Beta <span style="font-size:12px;color:#94a3b8;font-weight:400;">(v0.0.0.1)</span></h1>
              <p style="margin:0;font-size:14px;color:#64748b;">ëŸ¬ë„ˆë¥¼ ì‘ì›í•˜ì! ğŸƒâ€â™‚ï¸ğŸ’¨</p>
            </div>
          </div>
          
          <!-- ê·¸ë£¹ ì •ë³´ -->
          <div class="card">
            <div id="noGroupMessage">
              <p class="text-center muted">ê°€ì…ëœ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤.</p>
              <button id="createGroupBtn" class="success">â• ìƒˆ ê·¸ë£¹ ë§Œë“¤ê¸°</button>
              <button id="joinGroupBtn" class="secondary mt-2">ğŸ”— ê·¸ë£¹ ì½”ë“œë¡œ ì°¸ì—¬í•˜ê¸°</button>
            </div>
            
            <div id="groupInfo" class="hidden">
              <div class="group-header">
                <div>
                  <div class="group-name" id="groupName"></div>
                  <div class="group-code" id="groupCode"></div>
                </div>
                <button id="startTrackingBtn" class="success btn-small">ğŸ¯ ê·¸ë£¹ ì¶”ì  ì‹œì‘</button>
              </div>
              <div class="muted" style="font-size:12px" id="groupEvent"></div>
            </div>
          </div>

          <!-- ì£¼ì ëª©ë¡ -->
          <div class="card" id="runnersSection" class="hidden">
            <h3>ğŸ‘¥ ìš°ë¦¬ í¬ë£¨ ë©¤ë²„</h3>
            <div id="runnersList" class="runner-list"></div>
          </div>

          <!-- ì§€ë„ -->
          <div class="card" id="mapSection" class="hidden">
            <h3>ğŸ“ ì‹¤ì‹œê°„ ì£¼ì ìœ„ì¹˜</h3>
            <div style="color:var(--err);font-size:12px;margin-bottom:10px;font-weight:600">âš ï¸ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¯¸ë™ì‘ ì‹œ ì•„ë˜ í…Œì´ë¸”ì—ì„œ ë§ˆì§€ë§‰ ìœ„ì¹˜ë¥¼ ì§ì ‘ í™•ì¸í•´ì£¼ì„¸ìš”.</div>
            <div style="color:#666;font-size:12px;margin-bottom:10px">
              â„¹ï¸ ì£¼ìì˜ ì˜ˆìƒ ìœ„ì¹˜ëŠ” ì´ì „ êµ¬ê°„ì˜ í˜ì´ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì •ë©ë‹ˆë‹¤<br>
              â„¹ï¸ ì²˜ìŒ ì¶œë°œì‹œì—ëŠ” 6:30 í˜ì´ìŠ¤ë¡œ ì˜ˆì¸¡ë˜ì–´ ì‚°ì •ë©ë‹ˆë‹¤<br>
              â„¹ï¸ ì‹¤ì œ ë°ì´í„°ëŠ” 90ì´ˆë§ˆë‹¤ ê°±ì‹ ë©ë‹ˆë‹¤ (ì˜ˆìƒ ìœ„ì¹˜ëŠ” 15ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸)
            </div>
            <div id="map"></div>
          </div>

          <!-- ê²°ê³¼ í…Œì´ë¸” -->
          <div class="card" id="resultsSection" class="hidden">
            <div id="status" class="muted" style="font-size:12px"></div>
            <div id="sortInfo" class="muted" style="font-size:12px;margin-top:8px;display:none">
              <strong>ì •ë ¬ê¸°ì¤€:</strong> ë¯¸ì™„ì£¼ìâ†’ì™„ì£¼ì / ê°€â†’ë‚˜â†’ë‹¤
            </div>
            <table>
              <thead>
                <tr>
                  <th>ì´ë¦„<br>(ë°°ë²ˆ)<br>(ê·¸ë£¹)</th>
                  <th>ìƒíƒœ</th>
                  <th>ë‹¬ë¦°<br>ê±°ë¦¬</th>
                  <th>ë§ˆì§€ë§‰<br>ìœ„ì¹˜</th>
                </tr>
              </thead>
              <tbody id="resultsBody"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- í”„ë¡œí•„ íƒ­ -->
      <div id="profilePage" class="page">
        <div class="wrap">
          <h1>ğŸ‘¤ í”„ë¡œí•„</h1>
          
          <div class="card">
            <h3>ë‚´ ì •ë³´</h3>
            <div style="text-align:center;margin:12px 0">
              <img id="profileImage" src="" alt="í”„ë¡œí•„" style="width:80px;height:80px;border-radius:50%;object-fit:cover;border:2px solid var(--acc)" />
            </div>
            <div style="margin:12px 0">
              <label class="muted" style="font-size:12px">ì´ë¦„</label>
              <input type="text" id="profileName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" />
            </div>
            <button id="updateNameBtn" class="success">ì´ë¦„ ë³€ê²½</button>
          </div>

          <div class="card">
            <h3>ê°€ì…ëœ ê·¸ë£¹</h3>
            <div id="myGroupInfo">
              <p class="muted text-center">ê°€ì…ëœ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
            <button id="leaveGroupBtn" class="danger mt-2 hidden">ê·¸ë£¹ íƒˆí‡´</button>
          </div>

          <div class="card">
            <button id="privacyBtn" class="secondary">ğŸ“‹ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</button>
            <button id="deleteAccountBtn" class="danger mt-2">ğŸ—‘ï¸ íšŒì› íƒˆí‡´</button>
            <button id="logoutBtn" class="secondary mt-2">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
          </div>
        </div>
      </div>

      <!-- í•˜ë‹¨ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
      <nav class="tab-nav">
        <button class="tab-btn active" data-tab="cheer">
          <span class="icon">ğŸ‰</span>
          <span>ì‘ì›</span>
        </button>
        <button class="tab-btn" data-tab="profile">
          <span class="icon">ğŸ‘¤</span>
          <span>í”„ë¡œí•„</span>
        </button>
      </nav>
    </div>
  </div>

  <!-- ê·¸ë£¹ ìƒì„± ëª¨ë‹¬ -->
  <div id="createGroupModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ìƒˆ ê·¸ë£¹ ë§Œë“¤ê¸°</h2>
        <button class="modal-close" onclick="closeModal('createGroupModal')">Ã—</button>
      </div>
      <div>
        <label class="muted" style="font-size:12px">ê·¸ë£¹ ì´ë¦„</label>
        <input type="text" id="newGroupName" placeholder="ì˜ˆ: ëŸ°í‹°í’€ ì¶˜ì²œ" maxlength="20" />
      </div>
      <div class="mt-2">
        <label class="muted" style="font-size:12px">ëŒ€íšŒ ì„ íƒ</label>
        <select id="newGroupEvent">
          <option value="">ëŒ€íšŒë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
          <option value="133">2025 JTBC ì„œìš¸ë§ˆë¼í†¤</option>
          <option value="132">2025 ì¶˜ì²œë§ˆë¼í†¤</option>
        </select>
      </div>
      <button id="confirmCreateGroupBtn" class="success mt-2">ê·¸ë£¹ ìƒì„±</button>
    </div>
  </div>

  <!-- ê·¸ë£¹ ì°¸ì—¬ ëª¨ë‹¬ -->
  <div id="joinGroupModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ê·¸ë£¹ ì°¸ì—¬í•˜ê¸°</h2>
        <button class="modal-close" onclick="closeModal('joinGroupModal')">Ã—</button>
      </div>
      <div>
        <label class="muted" style="font-size:12px">ê·¸ë£¹ ì½”ë“œ (4ìë¦¬)</label>
        <input type="text" id="joinGroupCode" placeholder="ì˜ˆ: A1B2" maxlength="4" style="text-transform:uppercase" />
      </div>
      <button id="confirmJoinGroupBtn" class="success mt-2">ê·¸ë£¹ ì°¸ì—¬</button>
    </div>
  </div>

  <!-- ì£¼ì ì •ë³´ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="registerRunnerModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ê·¸ë£¹ ì°¸ì—¬ ì •ë³´ ë“±ë¡</h2>
        <button class="modal-close" onclick="closeModal('registerRunnerModal')">Ã—</button>
      </div>
      <p id="registerRunnerDescription" class="muted" style="font-size:12px">ê·¸ë£¹ ì°¸ì—¬ë¥¼ ìœ„í•´ ì—­í• ì„ ì„ íƒí•˜ê³  í•„ìš”í•œ ì •ë³´ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.</p>
      
      <div class="mt-2">
        <label class="muted" style="font-size:12px;font-weight:600">ì°¸ì—¬ ì—­í• </label>
        <div style="display:flex;gap:10px;margin-top:8px">
          <label class="role-option selected" id="runnerRoleLabel">
            <input type="radio" name="memberRole" value="runner" id="runnerRole" checked onchange="handleRoleChange()" />
            <div class="role-content">
              <div class="role-title">ğŸƒâ€â™‚ï¸ ì£¼ì</div>
              <div class="role-desc">ë°°ë²ˆ + ë ˆë””ìƒ· í•„ìš”</div>
            </div>
          </label>
          <label class="role-option" id="supporterRoleLabel">
            <input type="radio" name="memberRole" value="supporter" id="supporterRole" onchange="handleRoleChange()" />
            <div class="role-content">
              <div class="role-title">ğŸ“£ ì‘ì›ì</div>
              <div class="role-desc">ì •ë³´ ë¶ˆí•„ìš”</div>
            </div>
          </label>
        </div>
      </div>
      
      <div id="runnerFields" class="mt-2">
        <div class="mt-2">
          <label class="muted" style="font-size:12px">ë°°ë²ˆ (Bib Number)</label>
          <input type="number" id="runnerBib" placeholder="ì˜ˆ: 12345" />
        </div>
        
        <div class="mt-2">
          <label class="muted" style="font-size:12px">ë ˆë””ìƒ· ì‚¬ì§„</label>
          <div class="image-upload-area" id="imageUploadArea" onclick="document.getElementById('runnerPhoto').click()">
            <div id="uploadPlaceholder">
              <div style="font-size:32px">ğŸ“·</div>
              <div style="margin-top:8px">í´ë¦­í•˜ì—¬ ì‚¬ì§„ ì—…ë¡œë“œ</div>
            </div>
            <img id="imagePreview" class="image-preview hidden" />
            <input type="file" id="runnerPhoto" accept="image/*" class="hidden" onchange="handleImageSelect(event)" />
          </div>
        </div>
      </div>
      
      <button id="confirmRegisterRunnerBtn" class="success mt-2">ë“±ë¡ ì™„ë£Œ</button>
    </div>
  </div>

  <!-- ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ëª¨ë‹¬ -->
  <div id="privacyModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</h2>
        <button class="modal-close" onclick="closeModal('privacyModal')">Ã—</button>
      </div>
      <div style="font-size:12px;line-height:1.7;color:var(--fg);max-height:60vh;overflow-y:auto">
        <p class="muted" style="font-size:11px">ìµœì¢… ìˆ˜ì •ì¼: 2025ë…„ 10ì›” 25ì¼</p>

        <h3 style="margin-top:20px">1. ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš©</h3>
        <p><strong>1.1 ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©</strong></p>
        <ul style="font-size:12px;line-height:1.6">
          <li><strong>í•„ìˆ˜:</strong> ì¹´ì¹´ì˜¤ ê³„ì • ID, ë‹‰ë„¤ì„, í”„ë¡œí•„ ì´ë¯¸ì§€</li>
          <li><strong>ì„ íƒ (ì£¼ì):</strong> ë°°ë²ˆ(bib), ì¤€ë¹„ ì‚¬ì§„(ë ˆë””ìƒ·)</li>
          <li><strong>ìë™:</strong> ê·¸ë£¹ ê°€ì… ì¼ì‹œ, ì—­í• (ì£¼ì/ì‘ì›ì)</li>
        </ul>
        <p><strong>1.2 ìˆ˜ì§‘ ë°©ë²•</strong></p>
        <ul style="font-size:12px;line-height:1.6">
          <li>ì¹´ì¹´ì˜¤ OAuth 2.0 ì¸ì¦</li>
          <li>ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥í•˜ëŠ” ë°°ë²ˆ ë° ì‚¬ì§„</li>
          <li>ì„œë¹„ìŠ¤ ì´ìš© ê³¼ì •ì—ì„œ ìë™ ìƒì„±</li>
        </ul>

        <h3>2. ê°œì¸ì •ë³´ì˜ ì œ3ì ì œê³µ</h3>
        <div style="background:rgba(59,130,246,0.1);padding:10px;border-radius:6px;margin:10px 0">
          <strong>RunCheerëŠ” ì›ì¹™ì ìœ¼ë¡œ ì‚¬ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ì™¸ë¶€ì— ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong>
        </div>
        <p style="font-size:12px">ì˜ˆì™¸: ì‚¬ìš©ì ë™ì˜ ë˜ëŠ” ë²•ë ¹ ê·œì •ì— ì˜í•œ ê²½ìš°</p>

        <h3>3. ê°œì¸ì •ë³´ì˜ ì²˜ë¦¬ ìœ„íƒ</h3>
        <ul style="font-size:12px;line-height:1.6">
          <li><strong>Kakao Corp.:</strong> ì†Œì…œ ë¡œê·¸ì¸ ì¸ì¦</li>
          <li><strong>Vercel Inc.:</strong> ì„œë¹„ìŠ¤ í˜¸ìŠ¤íŒ… ë° ë°ì´í„° ì €ì¥</li>
          <li><strong>Neon:</strong> ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬</li>
          <li><strong>Vercel Blob Storage:</strong> ì´ë¯¸ì§€ ì €ì¥</li>
        </ul>

        <h3>4. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš© ê¸°ê°„</h3>
        <ul style="font-size:12px;line-height:1.6">
          <li><strong>íšŒì› ì •ë³´:</strong> íšŒì› íƒˆí‡´ ì‹œê¹Œì§€</li>
          <li><strong>ê·¸ë£¹ ì •ë³´:</strong> ê·¸ë£¹ ì‚­ì œ ë˜ëŠ” íƒˆí‡´ ì‹œê¹Œì§€</li>
          <li><strong>ì´ë¯¸ì§€:</strong> ê·¸ë£¹ íƒˆí‡´ ë˜ëŠ” íšŒì› íƒˆí‡´ ì‹œ ì¦‰ì‹œ ì‚­ì œ</li>
          <li><strong>íƒˆí‡´ íšŒì›:</strong> ì¦‰ì‹œ ì‚­ì œ (ë³µêµ¬ ë¶ˆê°€)</li>
        </ul>

        <h3>5. ê°œì¸ì •ë³´ì˜ íŒŒê¸°</h3>
        <p><strong>5.1 íŒŒê¸° ì ˆì°¨</strong></p>
        <ul style="font-size:12px;line-height:1.6">
          <li>íšŒì› íƒˆí‡´ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¦‰ì‹œ ì‚­ì œ (CASCADE)</li>
          <li>ê·¸ë£¹ íƒˆí‡´ ì‹œ ë©¤ë²„ ì •ë³´ ë° ì´ë¯¸ì§€ ì‚­ì œ</li>
          <li>ê·¸ë£¹ ì‚­ì œ ì‹œ ëª¨ë“  ë©¤ë²„ ì •ë³´ ì¼ê´„ ì‚­ì œ</li>
        </ul>
        <p><strong>5.2 íŒŒê¸° ë°©ë²•</strong></p>
        <ul style="font-size:12px;line-height:1.6">
          <li>ì „ì íŒŒì¼: DELETE ì¿¼ë¦¬ë¡œ ì™„ì „ ì‚­ì œ</li>
          <li>ì´ë¯¸ì§€: Vercel Blob Storageì—ì„œ ì˜êµ¬ ì‚­ì œ</li>
        </ul>

        <h3>6. ì •ë³´ì£¼ì²´ì˜ ê¶Œë¦¬ ë° í–‰ì‚¬ë°©ë²•</h3>
        <ul style="font-size:12px;line-height:1.6">
          <li><strong>ì¡°íšŒ:</strong> ì•± ë‚´ í”„ë¡œí•„ì—ì„œ í™•ì¸</li>
          <li><strong>ìˆ˜ì •:</strong> í”„ë¡œí•„ì—ì„œ ì´ë¦„ ìˆ˜ì •</li>
          <li><strong>ê·¸ë£¹ íƒˆí‡´:</strong> "ê·¸ë£¹ íƒˆí‡´" ë²„íŠ¼</li>
          <li><strong>íšŒì› íƒˆí‡´:</strong> "íšŒì›íƒˆí‡´" ë²„íŠ¼ (ëª¨ë“  ì •ë³´ ì¦‰ì‹œ ì‚­ì œ)</li>
        </ul>
        <div style="background:rgba(239,68,68,0.1);padding:10px;border-radius:6px;margin:10px 0;font-size:12px">
          <strong>âš ï¸ íšŒì› íƒˆí‡´ ì‹œ ëª¨ë“  ê°œì¸ì •ë³´ê°€ ì¦‰ì‹œ ì‚­ì œë˜ë©° ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</strong>
        </div>

        <h3>7. ìë™ ìˆ˜ì§‘ ì¥ì¹˜</h3>
        <ul style="font-size:12px;line-height:1.6">
          <li><strong>localStorage:</strong> ê·¸ë£¹ ì½”ë“œ ì„ì‹œ ì €ì¥</li>
          <li><strong>Kakao SDK:</strong> ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€</li>
        </ul>

        <h3>8. ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì</h3>
        <div style="background:#f8fafc;padding:10px;border-radius:6px;margin:10px 0;font-size:12px">
          <strong>ì„±ëª…:</strong> ì„±ëŒ€ê²½<br>
          <strong>ì§ì±…:</strong> ê°œë°œì<br>
          <strong>ì—°ë½ì²˜:</strong> GitHub Issues
        </div>

        <h3>9. ì„œë¹„ìŠ¤ íŠ¹ì„± ì•ˆë‚´</h3>
        <div style="background:rgba(245,158,11,0.1);padding:10px;border-radius:6px;margin:10px 0;font-size:12px">
          <strong>âš ï¸ ì¤‘ìš” ì•ˆë‚´</strong>
          <ul style="margin-top:8px;line-height:1.6">
            <li>ë² íƒ€ ì„œë¹„ìŠ¤ë¡œ ì˜ˆê³  ì—†ì´ ì¤‘ë‹¨/ì¢…ë£Œ ê°€ëŠ¥</li>
            <li>ê·¸ë£¹ ì½”ë“œë¥¼ ì•„ëŠ” ëˆ„êµ¬ë‚˜ ì°¸ì—¬ ê°€ëŠ¥</li>
            <li>ì‹¤ì‹œê°„ ì¶”ì ì€ ê³µê°œ ëŒ€íšŒ ë°ì´í„° ê¸°ë°˜ (GPS ìˆ˜ì§‘ ì•ˆ í•¨)</li>
            <li>ì—…ë¡œë“œ ì‚¬ì§„ì€ ê³µê°œ(public) ì €ì¥ (URL ê³µìœ  ì‹œ ì—´ëŒ ê°€ëŠ¥)</li>
          </ul>
        </div>

        <h3>10. ë°ì´í„° ë³´ì•ˆ</h3>
        <ul style="font-size:12px;line-height:1.6">
          <li>HTTPS ì•”í˜¸í™” (TLS/SSL)</li>
          <li>SQL Injection ë°©ì§€ (Prepared Statement)</li>
          <li>Kakao OAuth 2.0 í‘œì¤€ ì¤€ìˆ˜</li>
          <li>CASCADE ì‚­ì œë¡œ ê´€ë ¨ ë°ì´í„° ìë™ ì‚­ì œ</li>
        </ul>

        <h3>11. ë¬¸ì˜</h3>
        <p style="font-size:12px">GitHub Issues: <a href="https://github.com/sdk0213/livetrack/issues" target="_blank" style="color:var(--acc)">https://github.com/sdk0213/livetrack/issues</a></p>

        <p class="muted" style="margin-top:20px;font-size:11px;text-align:center">ì´ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì€ 2025ë…„ 10ì›” 25ì¼ë¶€í„° ì ìš©ë©ë‹ˆë‹¤.</p>
      </div>
    </div>
  </div>

  <script src="/js/app.js"></script>
</body>
</html>
